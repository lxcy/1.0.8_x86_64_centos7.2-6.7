



centos 7.2 1511 LXC 1.0.8 setup guide

Prerequisites: 
    Fresh Centos 7 system

Upgrade kernel - https://batmat.net/2015/10/05/upgrading-centos-7-kernel-to-enable-using-overlay-with-docker/

    Run
rpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org
rpm -Uvh http://www.elrepo.org/elrepo-release-7.0-2.el7.elrepo.noarch.rpm
yum --enablerepo=elrepo-kernel install kernel-ml

    Set new kernel to default, run:
awk -F\' '$1=="menuentry " {print $2}' /etc/grub2.cfg
grub2-set-default 0

    Disable IPv6 - Edit /etc/sysctl.conf, add lines

net.ipv6.conf.all.disable_ipv6 = 1
net.ipv6.conf.default.disable_ipv6 = 1
net.ipv6.conf.lo.disable_ipv6 = 1

    Run
sysctl -p

Install lxc

    Run
yum install epel-release bash-completion
yum install debootstrap perl libvirt
yum install lxc lxc-templates

service libvirtd start

modprobe overlay

    setup overlay on boot - edit - FINISH



